<app-popup
  width="800px"
  height='auto'
  [hasConfirmBtn]="false"
  [hasCancelBtn]="false"
  [title]="planItem ? '#'+ planItem.subItemCode + ' ' + planItem.subItemName : translate('Loading')"
  [visible]="visible"
  [cancelCallback]="hideItemInfo">

  <app-event-tooltip-operation *ngIf="planItem"
    [planItem]="planItem">

  </app-event-tooltip-operation>

  <app-event-tooltip-sequence *ngIf="planItem"
    [sequence]="planItem.sequencePlanItems"
    [selectedIdPrePlanitem]="planItem.idPrePlanItem">
  </app-event-tooltip-sequence>

  <app-linked-items
    [smaller]="false"
    *ngIf="planItem && planItem.linkedItem"
    [items]="[planItem.linkedItem]"
    [title]="translate('Linked_Plan_Item')">
  </app-linked-items>

  <app-linked-items
    *ngIf="planItem && planItem.parentLinkedItems && planItem.parentLinkedItems.length"
    [items]="planItem.parentLinkedItems">
  </app-linked-items>

</app-popup>




<!-- <div *dxTemplate="let plannedEvent of 'tooltip-template'">
  <h4>#{{ plannedEvent.subItemCode }} {{ plannedEvent.subItemName }}</h4>
  <hr class="redline">

  <div class='event-tooltip text-left'>

      <div *ngIf="!timeUpdateSuggestion && !notWorkingHoursUpdateSuggestion">
          <div *ngIf="plannedEvent.isLocked" class="alert alert-warning mb-2" role="alert">
              <fa-icon class="mr-2" [icon]="faLock"></fa-icon> {{translate('Opearation_Closed')}}
          </div>
          <div *ngIf="plannedEvent.isInNotWorkingHours" class="alert alert-warning mb-2" role="alert">
              <fa-icon class="mr-2" [icon]="faExclamation"></fa-icon> {{translate('Operation_Planned_OutWorkTime')}}
              <a (click)="onGetResolveNotWorkingHoursSuggestion(plannedEvent.id)" class="span-link alert-link">{{translate('Solve')}}</a>
          </div>
          <div *ngIf="plannedEvent.sequenceWarning" class="alert alert-warning" role="alert">
              <fa-icon class="mr-2" [icon]="faWarning"></fa-icon> {{translate('Operations_Not_Arranged')}}
              <a (click)="onGetResolveSequenceSuggestion(plannedEvent.idItemBatch)" class="span-link alert-link">{{translate('Solve')}}</a>
          </div>
          <div *ngIf="plannedEvent.linkedItemSequenceWarning" class="alert alert-warning" role="alert">
              <fa-icon class="mr-2" [icon]="faWarning"></fa-icon> {{translate('Plan_Not_Finished')}}
              <a (click)="onLinkedItemSequenceResolve(plannedEvent)" class="span-link alert-link">{{translate('Move_ToEnd')}}</a>
          </div>




          <ng-container *ngIf="plannedEvent.linkedItem && plannedEvent.linkedItem.linkedPlanItems.length">
              <h6>{{translate('Linked_Plan_Item')}} {{ plannedEvent.linkedItem.itemCode }}</h6>
              <table class="table table-sm">
                  <tr *ngFor="let op of plannedEvent.linkedItem.linkedPlanItems">
                      <td>#{{ op.code }} {{ op.name }}</td>
                      <td>{{ op.containerCode }}</td>
                      <td>{{ op.timeStartPreparation | date:'mediumDate' }} {{ op.timeStartPreparation | date:'shortTime' }}</td>
                      <td>{{ op.timeEnd | date:'mediumDate' }} {{ op.timeEnd | date:'shortTime' }}</td>
                  </tr>
              </table>
          </ng-container>



          <dx-button class="mr-2" icon="key" text="{{ plannedEvent.isLocked ? translate('Unlock') : translate('Lock') }}" (onClick)='onToggleLock(plannedEvent)'></dx-button>
          <dx-button class="mr-4" icon="edit" text="{{translate('Edit')}}" (onClick)='showUpdateAppointmentPopup(plannedEvent)'></dx-button>
          <dx-button icon="trash" type="danger" text="{{translate('Delete')}}" (onClick)='deleteAppointment(plannedEvent)'></dx-button>
      </div>

      <div *ngIf="timeUpdateSuggestion">

      </div>

      <div *ngIf="notWorkingHoursUpdateSuggestion">

      </div>
  </div>
</div> -->
